% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zzz_example_helpers.R
\name{create_minimal_h5_for_H5ClusterExperiment}
\alias{create_minimal_h5_for_H5ClusterExperiment}
\title{Create a minimal HDF5 file suitable for H5ClusterExperiment examples}
\usage{
create_minimal_h5_for_H5ClusterExperiment(
  file_path = NULL,
  master_mask_dims = c(5L, 5L, 4L),
  num_master_clusters = 3L,
  n_time_run1 = 10L,
  n_time_run2 = 12L
)
}
\arguments{
\item{file_path}{Optional: path to HDF5 file. If \code{NULL}, a temp file is created.}

\item{master_mask_dims}{3D dimensions for the master mask, e.g., c(5L, 5L, 4L).}

\item{num_master_clusters}{Integer, number of clusters in the master cluster map.}

\item{n_time_run1}{Integer, n_time for the first (full) run.}

\item{n_time_run2}{Integer, n_time for the second (summary) run.}
}
\value{
Path to the created HDF5 file.
}
\description{
This function creates a temporary HDF5 file with a minimal but valid structure 
for an H5ClusterExperiment, including a master mask, master cluster definitions,
one H5ClusterRun, and one H5ClusterRunSummary.
}
\examples{
# Not typically called directly by users, used in other examples via fmristore:::
if (requireNamespace("neuroim2", quietly = TRUE) && 
    requireNamespace("hdf5r", quietly = TRUE) &&
    exists("H5ClusterExperiment", where = "package:fmristore")) {
  
  # Ensure helper dependencies are available if not automatically sourced
  # (e.g. source the R/zzz_example_helpers.R file if running interactively outside pkg build)

  temp_exp_file <- NULL
  exp <- NULL
  tryCatch({
    temp_exp_file <- fmristore:::create_minimal_h5_for_H5ClusterExperiment()
    print(temp_exp_file)
    # exp <- fmristore::H5ClusterExperiment(temp_exp_file)
    # print(exp)
  }, finally = {
    # if (!is.null(exp)) close(exp) # Close H5ClusterExperiment handle
    if (!is.null(temp_exp_file) && file.exists(temp_exp_file)) unlink(temp_exp_file)
  })
}
}
\keyword{internal}
