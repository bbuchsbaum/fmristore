% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/all_generic.R, R/write_dataset_methods.R
\name{write_dataset}
\alias{write_dataset}
\alias{write_dataset,NeuroVec-method}
\alias{write_dataset,list-method}
\alias{write_dataset,H5ParcellatedMultiScan-method}
\alias{write_dataset,H5NeuroVec-method}
\alias{write_dataset,H5NeuroVol-method}
\alias{write_dataset,LatentNeuroVec-method}
\alias{write_dataset,ClusteredNeuroVec-method}
\title{Write Dataset to HDF5}
\usage{
write_dataset(x, ...)

\S4method{write_dataset}{NeuroVec}(
  x,
  file,
  clusters,
  mask = NULL,
  summary = FALSE,
  summary_fun = mean,
  scan_name = "scan_001",
  compression = 4,
  ...
)

\S4method{write_dataset}{list}(
  x,
  file,
  clusters,
  mask = NULL,
  summary = FALSE,
  summary_fun = mean,
  scan_names = NULL,
  compression = 4,
  ...
)

\S4method{write_dataset}{H5ParcellatedMultiScan}(x, file, overwrite = FALSE, ...)

\S4method{write_dataset}{H5NeuroVec}(x, file, overwrite = FALSE, ...)

\S4method{write_dataset}{H5NeuroVol}(x, file, overwrite = FALSE, ...)

\S4method{write_dataset}{LatentNeuroVec}(x, file, compression = 6, ...)

\S4method{write_dataset}{ClusteredNeuroVec}(x, file, scan_name = "scan_001", compression = 4, ...)
}
\arguments{
\item{x}{A neuroim2::ClusteredNeuroVec object}

\item{...}{Additional arguments passed to write_parcellated_experiment_h5}

\item{file}{Output HDF5 file path}

\item{clusters}{A ClusteredNeuroVol object defining spatial clusters}

\item{mask}{Optional LogicalNeuroVol mask (extracted from first element if not provided)}

\item{summary}{Logical, whether to summarize data by clusters (default: FALSE)}

\item{summary_fun}{Function to use for summarization (default: mean)}

\item{scan_name}{Name for the scan (default: "scan_001")}

\item{compression}{Compression level 0-9 (default: 4)}

\item{scan_names}{Character vector of scan names (auto-generated if not provided)}

\item{overwrite}{Logical, whether to overwrite existing file (default: FALSE)}
}
\value{
Invisible NULL or file path, depending on the method

Invisible NULL

Invisible NULL

Invisible file path

Invisible file path

Invisible file path

Invisible NULL

An H5ParcellatedMultiScan object
}
\description{
Generic function for writing neuroimaging datasets to HDF5 format

Write a single NeuroVec object with clustering to HDF5

Write multiple NeuroVec objects with clustering to HDF5

Export an existing H5ParcellatedMultiScan object to a new HDF5 file

Export an existing H5NeuroVec object to a new HDF5 file

Export an existing H5NeuroVol object to a new HDF5 file

Write a LatentNeuroVec object to HDF5

Write a neuroim2::ClusteredNeuroVec object to HDF5 using fmristore's clustered format
}
\details{
This method converts a neuroim2::ClusteredNeuroVec to fmristore's HDF5 format.
The ClusteredNeuroVec stores time series data per cluster (T x K matrix),
which is written as summary data in the HDF5 file.
}
\examples{
\dontrun{
# Write full voxel-level data
write_dataset(nvec, file = "output.h5", clusters = cvol)

# Write summarized data (mean per cluster)
write_dataset(nvec, file = "output_summary.h5", clusters = cvol, summary = TRUE)

# Use median for summarization
write_dataset(nvec,
  file = "output_median.h5", clusters = cvol,
  summary = TRUE, summary_fun = median
)
}

\dontrun{
# Write multiple scans
scans <- list(nvec1, nvec2, nvec3)
write_dataset(scans, file = "multi_scan.h5", clusters = cvol)

# With custom names and summary
write_dataset(scans,
  file = "multi_summary.h5", clusters = cvol,
  summary = TRUE, scan_names = c("rest", "task1", "task2")
)
}

\dontrun{
# Export existing H5 object to new file
h5_obj <- H5ParcellatedMultiScan("existing.h5")
write_dataset(h5_obj, file = "copy.h5")
}

\dontrun{
# Write latent representation
write_dataset(latent_nvec, file = "latent.h5")
}

\dontrun{
# Assuming you have a ClusteredNeuroVec object from neuroim2
# cnvec <- neuroim2::ClusteredNeuroVec(...)
# write_dataset(cnvec, file = "clustered_data.h5")
}

}
