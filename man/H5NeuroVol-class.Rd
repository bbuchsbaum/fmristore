% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/all_class.R
\docType{class}
\name{H5NeuroVol-class}
\alias{H5NeuroVol-class}
\title{H5NeuroVol Class}
\description{
A class representing a three-dimensional brain image backed by an HDF5 dataset.
\code{H5NeuroVol} objects provide efficient storage and access for large-scale
brain imaging data in the HDF5 format.
}
\details{
The \code{H5NeuroVol} class inherits a \code{space} slot from
\code{\link[neuroim2]{NeuroVol-class}}, which specifies the spatial domain
(dimensions, orientation, etc.). Data I/O is performed by reading/writing
subsets of the HDF5 dataset, allowing efficient handling of large 3D volumes.
}
\section{Slots}{

\describe{
\item{\code{h5obj}}{An instance of class \code{H5File} from the \pkg{hdf5r} package,
representing the underlying HDF5 file containing the brain image data.}
}}

\section{Inheritance}{

\code{H5NeuroVol} inherits from:
\itemize{
  \item \code{\link[neuroim2]{NeuroVol-class}}: Base class for 3D brain volumes
  \item \code{\link[neuroim2]{ArrayLike3D-class}}: Interface for 3D array-like operations
}
}

\examples{
if (requireNamespace("neuroim2", quietly = TRUE) &&
    requireNamespace("hdf5r", quietly = TRUE) &&
    exists("H5NeuroVol", where = "package:fmristore") && # Check if constructor is available
    !is.null(fmristore:::create_minimal_h5_for_H5NeuroVol)) { # Check helper

  # Setup: Create a temporary HDF5 file using a helper
  # The helper creates a dataset named "data/elements" by default.
  temp_h5_path <- NULL
  h5_vol <- NULL
  tryCatch({
    temp_h5_path <- fmristore:::create_minimal_h5_for_H5NeuroVol(dims = c(5L, 5L, 3L))
    
    # Create an H5NeuroVol object using the constructor
    # The constructor defaults to dataset_name = "data/elements" if not specified
    # and if a NeuroSpace is not given, it reads it from /space in the HDF5 file.
    h5_vol <- fmristore::H5NeuroVol(file_name = temp_h5_path) 
    
    print(h5_vol)
    
    # Access a subset of the data
    subset_data <- h5_vol[1:2, 1:2, 1]
    print(subset_data)
    
  }, error = function(e) {
    message("H5NeuroVol example failed: ", e$message)
  }, finally = {
    # Close HDF5 handle owned by H5NeuroVol object
    if (!is.null(h5_vol) && inherits(h5_vol, "H5NeuroVol")) {
      try(close(h5_vol), silent = TRUE)
    }
    # Cleanup temporary file
    if (!is.null(temp_h5_path) && file.exists(temp_h5_path)) {
      unlink(temp_h5_path)
    }
  })
} else {
  message("Skipping H5NeuroVol example: fmristore, neuroim2, hdf5r, or helper not available.")
}

}
\seealso{
\code{\link[neuroim2]{NeuroVol-class}} for the base 3D brain volume class.
\code{\link[hdf5r]{H5File}} for details on HDF5 file objects.
}
